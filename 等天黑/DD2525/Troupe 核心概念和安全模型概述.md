# Troupe编程语言快速指南

## 概述
Troupe是一种面向**并发与分布式编程**的研究型语言，内置**动态信息流控制（DIFC）**机制，旨在为信息流控制研究提供实验平台。其核心特性包括：
- **轻量级进程**：基于消息传递的并发模型。
- **分布式节点**：节点为信任和运行时实例的基本单位，通信点对点加密。
- **标签化安全模型**：基于标签集合的灵活机密性控制。

---

## 核心概念

### 1. 进程与节点
- **进程 (Process)**  
  - 基本计算单元，轻量级，通过**异步消息传递**通信。
  - 同一节点内的进程直接通信，跨节点通信需经运行时检查。
- **节点 (Node)**  
  - 运行时实例，代表一个**信任域**，拥有唯一网络标识。
  - 节点间通信默认加密，信任关系通过安全级别（`⊤`和`⊥`）动态配置。

### 2. 信任模型
- **信任规则**：
  - 节点默认完全信任自身（`⊤`）。
  - 其他节点信任级别通过**运行时配置**指定，未配置则为`⊥`。
  - 与`⊥`信任节点通信时：
    - 接收的数据视为公开（`⊥`级）。
    - **无法发送机密数据**至`⊥`节点。
- **信任传递**：
  - 非对称但隐式传递（如`n1`信任`n2`至`ℓ`，则`n1`发送至`n2`的数据不超过`ℓ`，接收数据时自动降级至`ℓ`）。

### 3. 安全标签模型
- **标签 (Tag)**  
  - 抽象标识符（如`alice`, `secret`），定义数据的机密性。
- **安全级别 (Security Level)**  
  - 标签的集合，例如`{alice, bob}`。
  - **规则**：
    - 集合越大，限制越严格（如`{a,b,c} ⊑ {a,b}`）。
    - 空集`{}`为最低限制级别（公开数据）。
    - 使用偏序关系`⊑`比较安全级别。

---

## 设计背景
- **安全机制灵感**：Fabric/Jif、LIO、FLAM。
- **并发模型灵感**：Erlang（轻量级进程）、Cloud Haskell、Concurrent ML。
- **语法风格**：类似标准ML（SML）。

---

## 目标读者
- **研究人员**与**研究生**，需具备：
  - 基础函数式编程知识。
  - 信息流控制核心概念（如非干涉性）。

---

## 关键机制
- **跨节点通信**：
  - 消息需经**网络运行时检查**，根据信任级别过滤或降级。
  - 示例：发送消息时检查接收方信任级别，接收时自动应用标签衰减（见图1描述）。
- **标签操作**：
  - 支持最小上界（`⊔`）和最大下界（`⊓`）运算，用于动态调整安全级别。

---

## 注意事项
- **当前限制**：
  - 仅关注**机密性**，暂未集成完整性控制。
  - 非Troupe节点（如外部系统）默认视为`⊥`信任，需遵循序列化协议方可通信。
- **扩展性**：
  - 标签模型支持自定义扩展，但需符合偏序关系约束。

---

## 快速参考
| 符号 | 含义                 | 示例                |
| ---- | -------------------- | ------------------- |
| `⊤`  | 完全信任（自身节点） | `n1`信任自身为`⊤`   |
| `⊥`  | 不信任               | 外部节点默认`⊥`     |
| `⊔`  | 最小上界             | `{a} ⊔ {b} = {a,b}` |
| `⊑`  | 安全级别偏序         | `{a,b} ⊑ {a}`       |