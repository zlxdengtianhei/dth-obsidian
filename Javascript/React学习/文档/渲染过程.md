**步骤 1：首次渲染 (Mount)**

1. React 调用你的 `RegistrationForm` 组件函数。
2. React 为这个组件实例在内存中创建一个空的 `hooks` 数组：`hooks = []`，和一个索引 `hookIndex = 0`。
3. 执行到第一个 `useState('')`：
    - React 检查 `hooks[0]`，发现是空的。
    - 它知道这是初始化阶段，于是将初始值 `''` 存入，并创建一个更新函数 `dispatch`。
    - 它将 `['', dispatch]` 存入 `hooks[0]`。
    - 它返回 `['', dispatch]` 给你的代码。
    - `hookIndex` 变为 `1`。
4. 执行到第二个 `useState(18)`：
    - React 检查 `hooks[1]`，发现是空的。
    - 它将 `[18, dispatch]` 存入 `hooks[1]`。
    - 它返回 `[18, dispatch]`。
    - `hookIndex` 变为 `2`。
5. ...以此类推。

首次渲染结束后，React 为 `RegistrationForm` 组件保存的内部 `hooks` 数组可能是这样的：  
`[ ['' , dispatchForName], [18, dispatchForAge], [false, dispatchForAgreed] ]`

**步骤 2：更新渲染 (Update)**

1. 假设你调用了 `setName('张三')`。这个 `dispatchForName` 函数知道它对应的是 `hooks` 数组的第 `0` 个元素。它会更新 `hooks[0]` 的值为 `'张三'`，并告诉 React：“这个组件需要重新渲染！”
2. React 安排一次重新渲染，再次调用 `RegistrationForm` 函数。
3. 在函数执行前，React **重置** `hookIndex = 0`。
4. 执行到第一个 `useState('')`：
    - React 看到 `hookIndex` 是 `0`。
    - 它去 `hooks` 数组中查找 `hooks[0]`。
    - 它找到了 `['张三', dispatchForName]`。
    - **它忽略了你传入的初始值 `''`**，直接返回 `['张三', dispatchForName]`。
    - `hookIndex` 变为 `1`。
5. 执行到第二个 `useState(18)`：
    - React 看到 `hookIndex` 是 `1`。
    - 它去查找 `hooks[1]`，找到了 `[18, dispatchForAge]`。
    - 它忽略了初始值 `18`，返回 `[18, dispatchForAge]`。
    - `hookIndex` 变为 `2`。